<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Architecture | Glance</title>
    <meta name="description" content="The specialized MITM proxy for AI Agents with MCP integration">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/glance/assets/style.Lve9VRdZ.css" as="style">
    <link rel="preload stylesheet" href="/glance/vp-icons.css" as="style">
    
    <script type="module" src="/glance/assets/app.CtQudAIv.js"></script>
    <link rel="preload" href="/glance/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/glance/assets/chunks/theme.C60GKAVs.js">
    <link rel="modulepreload" href="/glance/assets/chunks/framework.cqfd-qMR.js">
    <link rel="modulepreload" href="/glance/assets/architecture.md.Cp0wbxaJ.lean.js">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/glance/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="/glance/icon.svg" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>Glance</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/glance/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/glance/quickstart.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Quick Start</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/glance/support.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Support</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wahyudotdev/glance" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wahyudotdev/glance" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Getting Started</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/installation.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/quickstart.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Quick Start</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Features</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/features/traffic-inspection.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Traffic Inspection</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/features/mocking.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Mocking & Breakpoints</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/features/scenarios.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Scenario Recording</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Integration</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/clients.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Supported Clients</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/clients/java.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Java/JVM</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/clients/docker.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Docker</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/clients/android.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Android</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/clients/chromium.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Chromium</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/clients/terminal.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Terminal</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>MCP</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/mcp/" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/mcp/reference.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Tools & Resources</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Reference</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/api.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>API Reference</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/configuration.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Configuration</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Development</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/development.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/architecture.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Architecture</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/contributing.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Contributing</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Help</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/support.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Support</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/faq.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>FAQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/troubleshooting.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Troubleshooting</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/glance/changelog.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Changelog</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _glance_architecture" data-v-e6f2a212><div><h1 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to &quot;Architecture&quot;">​</a></h1><p>Technical overview of Glance&#39;s architecture and design decisions.</p><h2 id="high-level-overview" tabindex="-1">High-Level Overview <a class="header-anchor" href="#high-level-overview" aria-label="Permalink to &quot;High-Level Overview&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────────────────────────────────────────────┐</span></span>
<span class="line"><span>│                      Client Apps                         │</span></span>
<span class="line"><span>│    (Browser, cURL, Java, Android, Node.js, etc.)        │</span></span>
<span class="line"><span>└───────────────────────┬─────────────────────────────────┘</span></span>
<span class="line"><span>                        │ HTTP/HTTPS</span></span>
<span class="line"><span>                        ▼</span></span>
<span class="line"><span>┌─────────────────────────────────────────────────────────┐</span></span>
<span class="line"><span>│                   Glance Proxy (:15500)                  │</span></span>
<span class="line"><span>│  ┌──────────────────────────────────────────────────┐  │</span></span>
<span class="line"><span>│  │           MITM Proxy (goproxy)                   │  │</span></span>
<span class="line"><span>│  │  • Certificate generation                        │  │</span></span>
<span class="line"><span>│  │  • Request/Response interception                 │  │</span></span>
<span class="line"><span>│  │  • Rule matching &amp; execution                     │  │</span></span>
<span class="line"><span>│  └──────────────────────────────────────────────────┘  │</span></span>
<span class="line"><span>│                        │                                 │</span></span>
<span class="line"><span>│                        ▼                                 │</span></span>
<span class="line"><span>│  ┌──────────────────────────────────────────────────┐  │</span></span>
<span class="line"><span>│  │            Storage Layer (SQLite)                │  │</span></span>
<span class="line"><span>│  │  • Traffic logging                               │  │</span></span>
<span class="line"><span>│  │  • Rule persistence                              │  │</span></span>
<span class="line"><span>│  │  • Scenario recording                            │  │</span></span>
<span class="line"><span>│  └──────────────────────────────────────────────────┘  │</span></span>
<span class="line"><span>└───────────┬──────────────────────────────┬──────────────┘</span></span>
<span class="line"><span>            │                              │</span></span>
<span class="line"><span>            ▼                              ▼</span></span>
<span class="line"><span>┌────────────────────────┐    ┌──────────────────────────┐</span></span>
<span class="line"><span>│  Dashboard (:15501)    │    │    MCP Server (:15502)   │</span></span>
<span class="line"><span>│  ┌──────────────────┐  │    │  ┌────────────────────┐  │</span></span>
<span class="line"><span>│  │  API (Fiber)     │  │    │  │  MCP Protocol      │  │</span></span>
<span class="line"><span>│  │  • REST endpoints│  │    │  │  • Resources       │  │</span></span>
<span class="line"><span>│  │  • WebSocket hub │  │    │  │  • Tools           │  │</span></span>
<span class="line"><span>│  └──────────────────┘  │    │  │  • Prompts         │  │</span></span>
<span class="line"><span>│  ┌──────────────────┐  │    │  └────────────────────┘  │</span></span>
<span class="line"><span>│  │  Frontend (React)│  │    │                          │</span></span>
<span class="line"><span>│  │  • TypeScript    │  │    │  Used by:                │</span></span>
<span class="line"><span>│  │  • Tailwind CSS  │  │    │  • Claude Desktop        │</span></span>
<span class="line"><span>│  │  • Real-time UI  │  │    │  • Other MCP clients     │</span></span>
<span class="line"><span>│  └──────────────────┘  │    │                          │</span></span>
<span class="line"><span>└────────────────────────┘    └──────────────────────────┘</span></span></code></pre></div><h2 id="components" tabindex="-1">Components <a class="header-anchor" href="#components" aria-label="Permalink to &quot;Components&quot;">​</a></h2><h3 id="_1-mitm-proxy" tabindex="-1">1. MITM Proxy <a class="header-anchor" href="#_1-mitm-proxy" aria-label="Permalink to &quot;1. MITM Proxy&quot;">​</a></h3><p><strong>Technology</strong>: <a href="https://github.com/elazarl/goproxy" target="_blank" rel="noreferrer">elazarl/goproxy</a></p><p><strong>Responsibilities</strong>:</p><ul><li>Intercept HTTP and HTTPS traffic</li><li>Generate and sign certificates on-the-fly</li><li>Apply rules (mocks, breakpoints)</li><li>Forward modified traffic</li></ul><p><strong>Key Features</strong>:</p><ul><li><strong>Certificate Authority</strong>: Generates a local CA certificate on startup</li><li><strong>Dynamic Certificates</strong>: Creates valid certificates for each intercepted domain</li><li><strong>Request Pipeline</strong>: Processes requests through rule engine before forwarding</li><li><strong>Response Pipeline</strong>: Processes responses before returning to client</li></ul><p><strong>Flow</strong>:</p><ol><li>Client makes HTTPS request</li><li>Proxy intercepts, performs TLS handshake with dynamic certificate</li><li>Proxy checks rules (mocks, breakpoints)</li><li>If no rule matches, forwards to destination</li><li>Logs request/response to database</li><li>Returns response to client</li></ol><h3 id="_2-storage-layer" tabindex="-1">2. Storage Layer <a class="header-anchor" href="#_2-storage-layer" aria-label="Permalink to &quot;2. Storage Layer&quot;">​</a></h3><p><strong>Technology</strong>: <a href="https://modernc.org/sqlite" target="_blank" rel="noreferrer">modernc.org/sqlite</a> (Pure Go SQLite)</p><p><strong>Schema</strong>:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Traffic table</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> traffic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    method </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> INTEGER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    duration </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INTEGER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    timestamp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DATETIME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    request_headers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- JSON</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    request_body BLOB,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    response_headers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- JSON</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    response_body BLOB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Rules table</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- &#39;mock&#39; or &#39;breakpoint&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    enabled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> BOOLEAN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    url_pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    method </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- JSON</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    match_count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INTEGER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    last_matched </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DATETIME</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Scenarios table</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> scenarios</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> PRIMARY KEY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    steps </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- JSON array</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    variable_mappings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TEXT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- JSON</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    created </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DATETIME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    modified </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DATETIME</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><strong>Optimizations</strong>:</p><ul><li><strong>WAL Mode</strong>: Write-Ahead Logging for better concurrency</li><li><strong>Write-Behind Cache</strong>: Batches writes for performance</li><li><strong>Indexes</strong>: On url, method, timestamp for fast queries</li><li><strong>Prepared Statements</strong>: Reused for common queries</li></ul><p><strong>Database Size Management</strong>:</p><ul><li>Auto-vacuum enabled</li><li>Configurable retention policy (planned)</li><li>Manual clear via API/Dashboard</li></ul><h3 id="_3-dashboard-api" tabindex="-1">3. Dashboard API <a class="header-anchor" href="#_3-dashboard-api" aria-label="Permalink to &quot;3. Dashboard API&quot;">​</a></h3><p><strong>Technology</strong>: <a href="https://github.com/gofiber/fiber" target="_blank" rel="noreferrer">gofiber/fiber</a> v2</p><p><strong>Endpoints</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET    /api/traffic              - List traffic</span></span>
<span class="line"><span>GET    /api/traffic/:id          - Get traffic details</span></span>
<span class="line"><span>DELETE /api/traffic              - Clear all traffic</span></span>
<span class="line"><span></span></span>
<span class="line"><span>GET    /api/rules                - List rules</span></span>
<span class="line"><span>POST   /api/rules/mocks          - Create mock</span></span>
<span class="line"><span>POST   /api/rules/breakpoints    - Create breakpoint</span></span>
<span class="line"><span>PUT    /api/rules/:id            - Update rule</span></span>
<span class="line"><span>DELETE /api/rules/:id            - Delete rule</span></span>
<span class="line"><span></span></span>
<span class="line"><span>GET    /api/scenarios            - List scenarios</span></span>
<span class="line"><span>GET    /api/scenarios/:id        - Get scenario</span></span>
<span class="line"><span>POST   /api/scenarios            - Create scenario</span></span>
<span class="line"><span>PUT    /api/scenarios/:id        - Update scenario</span></span>
<span class="line"><span>DELETE /api/scenarios/:id        - Delete scenario</span></span>
<span class="line"><span>POST   /api/scenarios/:id/replay - Replay scenario</span></span>
<span class="line"><span></span></span>
<span class="line"><span>GET    /api/proxy/status         - Proxy status</span></span>
<span class="line"><span>GET    /api/proxy/ca.crt         - Download CA cert</span></span>
<span class="line"><span></span></span>
<span class="line"><span>WS     /ws/traffic               - Real-time traffic stream</span></span></code></pre></div><p><strong>WebSocket Hub</strong>:</p><ul><li>Manages concurrent WebSocket connections</li><li>Broadcasts new traffic to all connected clients</li><li>Handles connection lifecycle (connect, disconnect, error)</li></ul><p><strong>Architecture</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Request → Middleware → Handler → Storage → Response</span></span>
<span class="line"><span>                ↓</span></span>
<span class="line"><span>         WebSocket Hub → Broadcast</span></span></code></pre></div><h3 id="_4-frontend" tabindex="-1">4. Frontend <a class="header-anchor" href="#_4-frontend" aria-label="Permalink to &quot;4. Frontend&quot;">​</a></h3><p><strong>Technology</strong>: React 18, TypeScript, Tailwind CSS</p><p><strong>Architecture</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/</span></span>
<span class="line"><span>├── components/        # React components</span></span>
<span class="line"><span>│   ├── Traffic/       # Traffic list and details</span></span>
<span class="line"><span>│   ├── Rules/         # Rule management</span></span>
<span class="line"><span>│   ├── Scenarios/     # Scenario recording</span></span>
<span class="line"><span>│   └── Common/        # Shared UI components</span></span>
<span class="line"><span>├── hooks/             # Custom React hooks</span></span>
<span class="line"><span>│   ├── useTraffic     # Traffic state management</span></span>
<span class="line"><span>│   ├── useRules       # Rule state management</span></span>
<span class="line"><span>│   └── useWebSocket   # WebSocket connection</span></span>
<span class="line"><span>├── services/          # API clients</span></span>
<span class="line"><span>│   ├── api.ts         # REST API client</span></span>
<span class="line"><span>│   └── websocket.ts   # WebSocket client</span></span>
<span class="line"><span>└── types/             # TypeScript types</span></span></code></pre></div><p><strong>State Management</strong>:</p><ul><li>React hooks for local state</li><li>WebSocket for real-time updates</li><li>API calls for CRUD operations</li></ul><p><strong>Key Features</strong>:</p><ul><li><strong>Real-time Updates</strong>: WebSocket connection for live traffic</li><li><strong>Dark Mode</strong>: Theme persistence with localStorage</li><li><strong>Responsive</strong>: Mobile-friendly design</li><li><strong>Performance</strong>: Virtualized lists for large datasets</li></ul><h3 id="_5-mcp-server" tabindex="-1">5. MCP Server <a class="header-anchor" href="#_5-mcp-server" aria-label="Permalink to &quot;5. MCP Server&quot;">​</a></h3><p><strong>Technology</strong>: <a href="https://github.com/modelcontextprotocol/go-sdk" target="_blank" rel="noreferrer">modelcontextprotocol/go-sdk</a></p><p><strong>Implementation</strong>:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GlanceMCP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    storage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Storage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    proxy   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Proxy</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GlanceMCP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Resources</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Resource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Resource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {URI: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;proxy://status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {URI: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;traffic://latest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GlanceMCP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Tools</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Tool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Tool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {Name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;inspect_network_traffic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {Name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;inspect_request_details&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {Name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;execute_request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ... more tools</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GlanceMCP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Prompts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Prompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Prompt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {Name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;analyze-traffic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {Name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;generate-api-docs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {Name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;generate-scenario-test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Communication</strong>:</p><ul><li>Stdio transport for Claude Desktop</li><li>HTTP transport for other clients (planned)</li><li>JSON-RPC 2.0 protocol</li></ul><h2 id="data-flow" tabindex="-1">Data Flow <a class="header-anchor" href="#data-flow" aria-label="Permalink to &quot;Data Flow&quot;">​</a></h2><h3 id="capturing-traffic" tabindex="-1">Capturing Traffic <a class="header-anchor" href="#capturing-traffic" aria-label="Permalink to &quot;Capturing Traffic&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Client → Proxy → Rule Check → Forward → Server</span></span>
<span class="line"><span>  ↓         ↓                              ↓</span></span>
<span class="line"><span>  ↓         ↓                         Response</span></span>
<span class="line"><span>  ↓         ↓ ← Log to DB ← ───────────────┘</span></span>
<span class="line"><span>  ↓         ↓</span></span>
<span class="line"><span>  ↓    Broadcast to WebSocket</span></span>
<span class="line"><span>  ↓         ↓</span></span>
<span class="line"><span>  ↓    Dashboard Update</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>Response</span></span></code></pre></div><h3 id="creating-a-mock" tabindex="-1">Creating a Mock <a class="header-anchor" href="#creating-a-mock" aria-label="Permalink to &quot;Creating a Mock&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>User (Dashboard/MCP)</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>API/MCP Server</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>Storage.SaveRule()</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>Proxy reloads rules</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>Next matching request returns mock</span></span></code></pre></div><h3 id="scenario-recording" tabindex="-1">Scenario Recording <a class="header-anchor" href="#scenario-recording" aria-label="Permalink to &quot;Scenario Recording&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. User starts recording</span></span>
<span class="line"><span>2. Traffic captured → Steps added to scenario</span></span>
<span class="line"><span>3. User defines variable mappings</span></span>
<span class="line"><span>4. Scenario saved to database</span></span>
<span class="line"><span>5. Can replay or generate test code</span></span></code></pre></div><h2 id="security-model" tabindex="-1">Security Model <a class="header-anchor" href="#security-model" aria-label="Permalink to &quot;Security Model&quot;">​</a></h2><h3 id="certificate-management" tabindex="-1">Certificate Management <a class="header-anchor" href="#certificate-management" aria-label="Permalink to &quot;Certificate Management&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Startup:</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>Generate CA cert + private key (in memory)</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>Sign certificates dynamically for each domain</span></span>
<span class="line"><span>  ↓</span></span>
<span class="line"><span>Client trusts CA → Accepts dynamic certs</span></span></code></pre></div><p><strong>Security Notes</strong>:</p><ul><li>CA private key stored in memory only (by default)</li><li>Certificates valid for 1 year</li><li>No external CA communication</li><li>Local-only by design</li></ul><h3 id="threat-model" tabindex="-1">Threat Model <a class="header-anchor" href="#threat-model" aria-label="Permalink to &quot;Threat Model&quot;">​</a></h3><p><strong>In Scope</strong>:</p><ul><li>Local development machine</li><li>Trusted user</li><li>Controlled network</li></ul><p><strong>Out of Scope</strong>:</p><ul><li>Production use</li><li>Untrusted networks</li><li>Multi-user scenarios</li><li>Remote access</li></ul><h2 id="performance-characteristics" tabindex="-1">Performance Characteristics <a class="header-anchor" href="#performance-characteristics" aria-label="Permalink to &quot;Performance Characteristics&quot;">​</a></h2><h3 id="throughput" tabindex="-1">Throughput <a class="header-anchor" href="#throughput" aria-label="Permalink to &quot;Throughput&quot;">​</a></h3><ul><li><strong>Requests/Second</strong>: ~1,000 on modern hardware</li><li><strong>Concurrent Connections</strong>: 10,000+</li><li><strong>Latency Overhead</strong>: &lt; 10ms typical</li></ul><h3 id="memory-usage" tabindex="-1">Memory Usage <a class="header-anchor" href="#memory-usage" aria-label="Permalink to &quot;Memory Usage&quot;">​</a></h3><ul><li><strong>Base</strong>: ~50MB (empty database)</li><li><strong>Per Request</strong>: ~10KB (metadata only)</li><li><strong>Database</strong>: Grows with traffic (SQLite efficient)</li><li><strong>Frontend</strong>: ~20MB (React bundle)</li></ul><h3 id="scalability-limits" tabindex="-1">Scalability Limits <a class="header-anchor" href="#scalability-limits" aria-label="Permalink to &quot;Scalability Limits&quot;">​</a></h3><p>Current architecture suitable for:</p><ul><li>✅ Individual developer use</li><li>✅ Small team (&lt; 10 users)</li><li>✅ Moderate traffic (&lt; 10,000 req/day)</li><li>❌ High-traffic production monitoring</li><li>❌ Multi-tenant SaaS</li></ul><h2 id="build-process" tabindex="-1">Build Process <a class="header-anchor" href="#build-process" aria-label="Permalink to &quot;Build Process&quot;">​</a></h2><h3 id="development" tabindex="-1">Development <a class="header-anchor" href="#development" aria-label="Permalink to &quot;Development&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Frontend:        Backend:</span></span>
<span class="line"><span>  ↓                ↓</span></span>
<span class="line"><span>npm install      go mod download</span></span>
<span class="line"><span>  ↓                ↓</span></span>
<span class="line"><span>npm run dev      go run cmd/glance/main.go</span></span></code></pre></div><h3 id="production-build" tabindex="-1">Production Build <a class="header-anchor" href="#production-build" aria-label="Permalink to &quot;Production Build&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. Build Frontend:</span></span>
<span class="line"><span>   npm run build → dist/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2. Embed Frontend:</span></span>
<span class="line"><span>   go:embed dist → Go binary</span></span>
<span class="line"><span></span></span>
<span class="line"><span>3. Build Binary:</span></span>
<span class="line"><span>   go build -o glance</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Result: Single self-contained binary</span></span></code></pre></div><h3 id="cross-platform-build" tabindex="-1">Cross-Platform Build <a class="header-anchor" href="#cross-platform-build" aria-label="Permalink to &quot;Cross-Platform Build&quot;">​</a></h3><p>Uses <a href="https://goreleaser.com/" target="_blank" rel="noreferrer">GoReleaser</a>:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">builds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">goos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">darwin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">linux</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">windows</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    goarch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">amd64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">arm64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ldflags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">-s -w</span></span></code></pre></div><p>Produces:</p><ul><li>macOS (ARM64, AMD64)</li><li>Linux (AMD64, ARM64, ARM)</li><li>Windows (AMD64)</li></ul><h2 id="design-decisions" tabindex="-1">Design Decisions <a class="header-anchor" href="#design-decisions" aria-label="Permalink to &quot;Design Decisions&quot;">​</a></h2><h3 id="why-go" tabindex="-1">Why Go? <a class="header-anchor" href="#why-go" aria-label="Permalink to &quot;Why Go?&quot;">​</a></h3><ul><li><strong>Performance</strong>: Fast, compiled language</li><li><strong>Concurrency</strong>: Great for proxy server</li><li><strong>Single Binary</strong>: Easy distribution</li><li><strong>Cross-Platform</strong>: Build for all platforms</li></ul><h3 id="why-sqlite" tabindex="-1">Why SQLite? <a class="header-anchor" href="#why-sqlite" aria-label="Permalink to &quot;Why SQLite?&quot;">​</a></h3><ul><li><strong>Serverless</strong>: No separate database process</li><li><strong>Portable</strong>: Single file database</li><li><strong>Fast</strong>: Excellent for read-heavy workloads</li><li><strong>Reliable</strong>: Battle-tested, stable</li></ul><h3 id="why-react" tabindex="-1">Why React? <a class="header-anchor" href="#why-react" aria-label="Permalink to &quot;Why React?&quot;">​</a></h3><ul><li><strong>Ecosystem</strong>: Large community, many libraries</li><li><strong>Performance</strong>: Virtual DOM, efficient updates</li><li><strong>TypeScript</strong>: Type safety for large codebase</li><li><strong>Developer Experience</strong>: Great tooling</li></ul><h3 id="why-fiber" tabindex="-1">Why Fiber? <a class="header-anchor" href="#why-fiber" aria-label="Permalink to &quot;Why Fiber?&quot;">​</a></h3><ul><li><strong>Performance</strong>: Faster than standard net/http</li><li><strong>API</strong>: Express-like, familiar to web developers</li><li><strong>WebSocket</strong>: Built-in support</li><li><strong>Middleware</strong>: Rich ecosystem</li></ul><h2 id="future-improvements" tabindex="-1">Future Improvements <a class="header-anchor" href="#future-improvements" aria-label="Permalink to &quot;Future Improvements&quot;">​</a></h2><h3 id="planned-features" tabindex="-1">Planned Features <a class="header-anchor" href="#planned-features" aria-label="Permalink to &quot;Planned Features&quot;">​</a></h3><ul><li><strong>GraphQL API</strong>: More flexible querying</li><li><strong>Plugins</strong>: Extensibility for custom processors</li><li><strong>Clustering</strong>: Multi-instance coordination</li><li><strong>Streaming</strong>: Process large responses efficiently</li><li><strong>gRPC Support</strong>: Intercept gRPC traffic</li></ul><h3 id="performance-optimizations" tabindex="-1">Performance Optimizations <a class="header-anchor" href="#performance-optimizations" aria-label="Permalink to &quot;Performance Optimizations&quot;">​</a></h3><ul><li><strong>Connection Pooling</strong>: Reuse connections</li><li><strong>Response Streaming</strong>: Don&#39;t buffer large responses</li><li><strong>Selective Logging</strong>: Skip binary/large responses</li><li><strong>Database Sharding</strong>: Split by project/time</li></ul><h3 id="architecture-evolution" tabindex="-1">Architecture Evolution <a class="header-anchor" href="#architecture-evolution" aria-label="Permalink to &quot;Architecture Evolution&quot;">​</a></h3><p>Current: <strong>Monolith</strong> (Single binary) Future: <strong>Modular</strong> (Pluggable components)</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>glance-core      (proxy + storage)</span></span>
<span class="line"><span>glance-dashboard (web UI - optional)</span></span>
<span class="line"><span>glance-mcp       (MCP server - optional)</span></span>
<span class="line"><span>glance-plugins   (custom processors)</span></span></code></pre></div><h2 id="contributing" tabindex="-1">Contributing <a class="header-anchor" href="#contributing" aria-label="Permalink to &quot;Contributing&quot;">​</a></h2><p>See <a href="./development.html">Development Guide</a> for:</p><ul><li>Setting up development environment</li><li>Code structure and conventions</li><li>Testing guidelines</li><li>Pull request process</li></ul><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li><a href="./development.html">Development Guide</a> - Contribute to Glance</li><li><a href="./api.html">API Reference</a> - Build integrations</li><li><a href="./mcp/reference.html">MCP Reference</a> - Extend MCP capabilities</li></ul></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/glance/development.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>Development Guide</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/glance/contributing.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Contributing</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Released under the MIT License.</p><p class="copyright" data-v-566314d4>Copyright © 2026 wahyudotdev</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api.md\":\"DgaENAnP\",\"architecture.md\":\"Cp0wbxaJ\",\"changelog.md\":\"Duwcu36j\",\"clients.md\":\"BwZLbos_\",\"clients_android.md\":\"IQGpiwib\",\"clients_chromium.md\":\"DSFG3ypW\",\"clients_docker.md\":\"Myye2WzE\",\"clients_java.md\":\"CSYC4P3r\",\"clients_terminal.md\":\"B79-4h7u\",\"configuration.md\":\"Y-bJvVgV\",\"contributing.md\":\"DIgsDzra\",\"development.md\":\"C1ucR1nD\",\"faq.md\":\"BazI8AmI\",\"features_mocking.md\":\"DtGxfaZ0\",\"features_scenarios.md\":\"g8aWoBst\",\"features_traffic-inspection.md\":\"DM5ZmG6r\",\"index.md\":\"B0hrw0Yb\",\"installation.md\":\"8Ppy6OVE\",\"mcp_index.md\":\"PF-ZSW8y\",\"mcp_reference.md\":\"Mw6-BvWQ\",\"quickstart.md\":\"Cu_t3aJn\",\"support.md\":\"Cnobik7L\",\"troubleshooting.md\":\"BgYIOVrm\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Glance\",\"description\":\"The specialized MITM proxy for AI Agents with MCP integration\",\"base\":\"/glance/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/icon.svg\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Quick Start\",\"link\":\"/quickstart\"},{\"text\":\"Support\",\"link\":\"/support\"}],\"sidebar\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"Installation\",\"link\":\"/installation\"},{\"text\":\"Quick Start\",\"link\":\"/quickstart\"}]},{\"text\":\"Features\",\"items\":[{\"text\":\"Traffic Inspection\",\"link\":\"/features/traffic-inspection\"},{\"text\":\"Mocking & Breakpoints\",\"link\":\"/features/mocking\"},{\"text\":\"Scenario Recording\",\"link\":\"/features/scenarios\"}]},{\"text\":\"Integration\",\"items\":[{\"text\":\"Supported Clients\",\"link\":\"/clients\"},{\"text\":\"Java/JVM\",\"link\":\"/clients/java\"},{\"text\":\"Docker\",\"link\":\"/clients/docker\"},{\"text\":\"Android\",\"link\":\"/clients/android\"},{\"text\":\"Chromium\",\"link\":\"/clients/chromium\"},{\"text\":\"Terminal\",\"link\":\"/clients/terminal\"}]},{\"text\":\"MCP\",\"items\":[{\"text\":\"Overview\",\"link\":\"/mcp/\"},{\"text\":\"Tools & Resources\",\"link\":\"/mcp/reference\"}]},{\"text\":\"Reference\",\"items\":[{\"text\":\"API Reference\",\"link\":\"/api\"},{\"text\":\"Configuration\",\"link\":\"/configuration\"}]},{\"text\":\"Development\",\"items\":[{\"text\":\"Development Guide\",\"link\":\"/development\"},{\"text\":\"Architecture\",\"link\":\"/architecture\"},{\"text\":\"Contributing\",\"link\":\"/contributing\"}]},{\"text\":\"Help\",\"items\":[{\"text\":\"Support\",\"link\":\"/support\"},{\"text\":\"FAQ\",\"link\":\"/faq\"},{\"text\":\"Troubleshooting\",\"link\":\"/troubleshooting\"},{\"text\":\"Changelog\",\"link\":\"/changelog\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/wahyudotdev/glance\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2026 wahyudotdev\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>