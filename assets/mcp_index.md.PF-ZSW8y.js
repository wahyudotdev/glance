import{_ as s,o as i,c as o,ag as t,j as a}from"./chunks/framework.cqfd-qMR.js";const n="/glance/assets/settings.BjlAcGq0.png",g=JSON.parse('{"title":"MCP Integration","description":"","frontmatter":{},"headers":[],"relativePath":"mcp/index.md","filePath":"mcp/index.md"}'),r={name:"mcp/index.md"};function l(d,e,c,h,p,u){return i(),o("div",null,[...e[0]||(e[0]=[t('<h1 id="mcp-integration" tabindex="-1">MCP Integration <a class="header-anchor" href="#mcp-integration" aria-label="Permalink to &quot;MCP Integration&quot;">​</a></h1><p>Glance implements the <strong>Model Context Protocol (MCP)</strong>, allowing AI agents to interact with network traffic programmatically. This enables powerful AI-assisted debugging and testing workflows.</p><h2 id="what-is-mcp" tabindex="-1">What is MCP? <a class="header-anchor" href="#what-is-mcp" aria-label="Permalink to &quot;What is MCP?&quot;">​</a></h2><p>The <a href="https://modelcontextprotocol.io" target="_blank" rel="noreferrer">Model Context Protocol</a> is an open standard that allows AI agents to access external tools, resources, and context. Glance&#39;s MCP server exposes network traffic data and proxy controls to AI agents like Claude Desktop.</p>',4),a("div",{style:{margin:"2rem 0","aspect-ratio":"16/9",width:"100%"}},[a("iframe",{style:{width:"100%",height:"100%","border-radius":"12px"},src:"https://www.youtube.com/embed/vgI1V-KKXhw",title:"Glance MCP Integration",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})],-1),t('<p><img src="'+n+`" alt="Glance MCP Settings"></p><h2 id="quick-setup-claude-code-cli" tabindex="-1">Quick Setup (Claude Code CLI) <a class="header-anchor" href="#quick-setup-claude-code-cli" aria-label="Permalink to &quot;Quick Setup (Claude Code CLI)&quot;">​</a></h2><p>Run this one-liner in your terminal to instantly connect Glance to Claude Code:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">claude</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --transport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> glance</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:15502/mcp</span></span></code></pre></div><h2 id="setting-up-with-claude-desktop" tabindex="-1">Setting Up with Claude Desktop <a class="header-anchor" href="#setting-up-with-claude-desktop" aria-label="Permalink to &quot;Setting Up with Claude Desktop&quot;">​</a></h2><h3 id="_1-locate-your-claude-desktop-config" tabindex="-1">1. Locate Your Claude Desktop Config <a class="header-anchor" href="#_1-locate-your-claude-desktop-config" aria-label="Permalink to &quot;1. Locate Your Claude Desktop Config&quot;">​</a></h3><p>The MCP configuration file is located at:</p><ul><li><strong>macOS</strong>: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li><li><strong>Windows</strong>: <code>%APPDATA%\\Claude\\claude_desktop_config.json</code></li></ul><h3 id="_2-add-glance-to-mcp-servers" tabindex="-1">2. Add Glance to MCP Servers <a class="header-anchor" href="#_2-add-glance-to-mcp-servers" aria-label="Permalink to &quot;2. Add Glance to MCP Servers&quot;">​</a></h3><p>Edit the config file and add Glance as an HTTP/SSE server:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;mcpServers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;glance&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://localhost:15502/mcp&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-restart-claude-desktop" tabindex="-1">3. Restart Claude Desktop <a class="header-anchor" href="#_3-restart-claude-desktop" aria-label="Permalink to &quot;3. Restart Claude Desktop&quot;">​</a></h3><p>Restart Claude Desktop to load the new MCP configuration. You should now see Glance listed as an available MCP server.</p><h2 id="setting-up-with-vs-code-cline-roo-code" tabindex="-1">Setting Up with VS Code (Cline / Roo Code) <a class="header-anchor" href="#setting-up-with-vs-code-cline-roo-code" aria-label="Permalink to &quot;Setting Up with VS Code (Cline / Roo Code)&quot;">​</a></h2><ol><li>Open <strong>MCP Settings</strong> in the extension.</li><li>Add a new server with type <code>SSE</code>.</li><li>Paste the URL: <code>http://localhost:15502/mcp</code></li></ol><h2 id="using-glance-with-claude" tabindex="-1">Using Glance with Claude <a class="header-anchor" href="#using-glance-with-claude" aria-label="Permalink to &quot;Using Glance with Claude&quot;">​</a></h2><p>Once configured, you can ask Claude to interact with your network traffic:</p><h3 id="example-prompts" tabindex="-1">Example Prompts <a class="header-anchor" href="#example-prompts" aria-label="Permalink to &quot;Example Prompts&quot;">​</a></h3><p><strong>Inspect recent traffic:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Show me the last 10 HTTP requests captured by Glance</span></span></code></pre></div><p><strong>Debug API errors:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Analyze the recent traffic for any failed API calls and help me understand what went wrong</span></span></code></pre></div><p><strong>Generate API documentation:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Generate OpenAPI documentation from the captured traffic to the /api/users endpoint</span></span></code></pre></div><p><strong>Create mocks:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Create a mock for the /api/login endpoint that returns a success response</span></span></code></pre></div><p><strong>Execute requests:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Make a GET request to https://api.github.com/users through the Glance proxy</span></span></code></pre></div><h2 id="mcp-capabilities" tabindex="-1">MCP Capabilities <a class="header-anchor" href="#mcp-capabilities" aria-label="Permalink to &quot;MCP Capabilities&quot;">​</a></h2><h3 id="resources" tabindex="-1">Resources <a class="header-anchor" href="#resources" aria-label="Permalink to &quot;Resources&quot;">​</a></h3><p>Resources provide read-only access to proxy state and traffic data:</p><table tabindex="0"><thead><tr><th>Resource</th><th>Description</th></tr></thead><tbody><tr><td><code>proxy://status</code></td><td>Current proxy address, status, and active rules count</td></tr><tr><td><code>traffic://latest</code></td><td>Most recent 10 HTTP requests in JSON format</td></tr></tbody></table><h3 id="tools" tabindex="-1">Tools <a class="header-anchor" href="#tools" aria-label="Permalink to &quot;Tools&quot;">​</a></h3><p>Tools allow AI agents to perform actions:</p><table tabindex="0"><thead><tr><th>Tool</th><th>Description</th></tr></thead><tbody><tr><td><code>inspect_network_traffic</code></td><td>List captured HTTP traffic with filtering and configurable limit</td></tr><tr><td><code>inspect_request_details</code></td><td>Get full headers and body for a specific request</td></tr><tr><td><code>execute_request</code></td><td>Execute custom HTTP requests through the proxy</td></tr><tr><td><code>add_mock_rule</code></td><td>Create a mocking rule to return static responses</td></tr><tr><td><code>add_breakpoint_rule</code></td><td>Create a breakpoint rule to pause traffic</td></tr><tr><td><code>list_rules</code></td><td>List all active mocks and breakpoints</td></tr><tr><td><code>delete_rule</code></td><td>Remove an interception rule by ID</td></tr><tr><td><code>list_scenarios</code></td><td>List all recorded traffic scenarios</td></tr><tr><td><code>get_scenario</code></td><td>Get full sequence details and variable mappings</td></tr><tr><td><code>add_scenario</code></td><td>Create a new scenario with basic metadata</td></tr><tr><td><code>update_scenario</code></td><td>Modify an existing scenario</td></tr><tr><td><code>delete_scenario</code></td><td>Remove a scenario by ID</td></tr><tr><td><code>clear_traffic</code></td><td>Reset/clear captured traffic logs</td></tr><tr><td><code>get_proxy_status</code></td><td>Get real-time proxy address and status</td></tr></tbody></table><h3 id="prompts" tabindex="-1">Prompts <a class="header-anchor" href="#prompts" aria-label="Permalink to &quot;Prompts&quot;">​</a></h3><p>Pre-defined prompts for common workflows:</p><table tabindex="0"><thead><tr><th>Prompt</th><th>Description</th></tr></thead><tbody><tr><td><code>analyze-traffic</code></td><td>Analyze recent traffic for errors or anomalies</td></tr><tr><td><code>generate-api-docs</code></td><td>Generate OpenAPI documentation from captured traffic</td></tr><tr><td><code>generate-scenario-test</code></td><td>Transform a recorded scenario into an automated test script</td></tr></tbody></table><h2 id="advanced-usage" tabindex="-1">Advanced Usage <a class="header-anchor" href="#advanced-usage" aria-label="Permalink to &quot;Advanced Usage&quot;">​</a></h2><h3 id="custom-mcp-configuration" tabindex="-1">Custom MCP Configuration <a class="header-anchor" href="#custom-mcp-configuration" aria-label="Permalink to &quot;Custom MCP Configuration&quot;">​</a></h3><p>You can customize Glance&#39;s MCP server behavior with additional arguments:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;mcpServers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;glance&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;command&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/path/to/glance&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;args&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;--mcp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;--mcp-port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;15502&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;--log-level&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;debug&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="using-with-other-mcp-clients" tabindex="-1">Using with Other MCP Clients <a class="header-anchor" href="#using-with-other-mcp-clients" aria-label="Permalink to &quot;Using with Other MCP Clients&quot;">​</a></h3><p>Glance&#39;s MCP server can be used with any MCP-compatible client, not just Claude Desktop. The server runs on <code>http://localhost:15502</code> by default.</p><h2 id="example-workflows" tabindex="-1">Example Workflows <a class="header-anchor" href="#example-workflows" aria-label="Permalink to &quot;Example Workflows&quot;">​</a></h2><h3 id="_1-debug-a-failing-api-call" tabindex="-1">1. Debug a Failing API Call <a class="header-anchor" href="#_1-debug-a-failing-api-call" aria-label="Permalink to &quot;1. Debug a Failing API Call&quot;">​</a></h3><ol><li>Run your application with Glance proxy configured</li><li>Reproduce the failing API call</li><li>Ask Claude: <em>&quot;Show me the last request to /api/endpoint and help me debug why it&#39;s failing&quot;</em></li><li>Claude will use <code>inspect_network_traffic</code> and <code>inspect_request_details</code> to analyze the issue</li></ol><h3 id="_2-generate-test-code-from-scenarios" tabindex="-1">2. Generate Test Code from Scenarios <a class="header-anchor" href="#_2-generate-test-code-from-scenarios" aria-label="Permalink to &quot;2. Generate Test Code from Scenarios&quot;">​</a></h3><ol><li>Record a scenario in the Glance dashboard</li><li>Ask Claude: <em>&quot;Generate a Playwright test script from the &#39;user-login&#39; scenario&quot;</em></li><li>Claude will use the <code>generate-scenario-test</code> prompt to create test code</li></ol><h3 id="_3-create-mocks-for-testing" tabindex="-1">3. Create Mocks for Testing <a class="header-anchor" href="#_3-create-mocks-for-testing" aria-label="Permalink to &quot;3. Create Mocks for Testing&quot;">​</a></h3><ol><li>Capture the real API response in Glance</li><li>Ask Claude: <em>&quot;Create a mock for this endpoint that returns a similar response but with test data&quot;</em></li><li>Claude will use <code>add_mock_rule</code> to create the mock</li></ol><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><h3 id="claude-can-t-see-glance" tabindex="-1">Claude Can&#39;t See Glance <a class="header-anchor" href="#claude-can-t-see-glance" aria-label="Permalink to &quot;Claude Can&#39;t See Glance&quot;">​</a></h3><ol><li>Verify the path to the Glance binary is correct in your config</li><li>Check that you restarted Claude Desktop after editing the config</li><li>Look for error messages in Claude Desktop&#39;s MCP logs</li></ol><h3 id="mcp-server-won-t-start" tabindex="-1">MCP Server Won&#39;t Start <a class="header-anchor" href="#mcp-server-won-t-start" aria-label="Permalink to &quot;MCP Server Won&#39;t Start&quot;">​</a></h3><ol><li>Check if another service is using port 15502</li><li>Try specifying a different port with <code>--mcp-port</code></li><li>Check Glance logs for error messages</li></ol><h3 id="tools-not-working" tabindex="-1">Tools Not Working <a class="header-anchor" href="#tools-not-working" aria-label="Permalink to &quot;Tools Not Working&quot;">​</a></h3><ol><li>Make sure Glance is running and the proxy is active</li><li>Verify that traffic is being captured in the dashboard</li><li>Try using the tools directly in Claude to see specific error messages</li></ol><h2 id="learn-more" tabindex="-1">Learn More <a class="header-anchor" href="#learn-more" aria-label="Permalink to &quot;Learn More&quot;">​</a></h2><ul><li><a href="./reference.html">MCP Tools &amp; Resources Reference</a> - Detailed API documentation</li><li><a href="https://modelcontextprotocol.io" target="_blank" rel="noreferrer">Model Context Protocol Documentation</a> - Official MCP docs</li></ul>`,60)])])}const m=s(r,[["render",l]]);export{g as __pageData,m as default};
